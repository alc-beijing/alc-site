{{ define "main" }}
<!-- 页面头部 -->
<div class="page-header">
    <div class="page-header-content">
        <h1 class="page-title">
            {{ if eq .Type "categories" }}
            {{ .Title }} 分类
            {{ else if eq .Type "tags" }}
            {{ .Title }} 标签
            {{ else }}
            {{ .Title }}
            {{ end }}
        </h1>
        <p class="page-description">
            {{ if eq .Type "categories" }}
            浏览 {{ .Title }} 分类下的所有文章
            {{ else if eq .Type "tags" }}
            浏览 {{ .Title }} 标签下的所有文章
            {{ else }}
            浏览相关内容
            {{ end }}
        </p>
        <div class="page-stats">
            <span class="stats-item">
                <i class="fas fa-file-alt"></i>
                {{ len .Pages }} 篇文章
            </span>
        </div>
    </div>
</div>

<!-- 文章列表容器 -->
<div class="container">
    <!-- 文章列表 -->
    <div class="posts-container">
        <div class="posts-grid compact-grid" id="postsGrid">
            {{ range .Pages }}
            <article class="post-card compact" data-title="{{ .Title | lower }}"
                data-category="{{ if .Params.categories }}{{ delimit .Params.categories " " | lower }}{{ end }}"
                data-tags="{{ if .Params.tags }}{{ delimit .Params.tags " " | lower }}{{ end }}">
                <div class="post-card-content">
                    <h2 class="post-card-title">
                        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                    </h2>
                    {{ if .Params.tags }}
                    <div class="post-tags">
                    {{ range .Params.tags }}
                    <a href="{{ "tags/" | relURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
                    {{ end }}
                    </div>
                    {{ end }}
                </div>
            </article>
            {{ end }}
        </div>
    </div>
    

</div>

<!-- 分类/标签页专用JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 设置当前导航高亮
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentPath) {
            link.classList.add('active');
        }
    });
});
</script>
{{ end }} 
